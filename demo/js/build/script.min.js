var Page=function(){function ViewModel(){this.arrivals=ko.observableArray([])}return{vm:new ViewModel,hideOfflineWarning:function(){document.querySelector(".arrivals-list").classList.remove("loading"),document.getElementById("offline").remove()},showOfflineWarning:function(){document.querySelector(".arrivals-list").classList.add("loading");var request=new XMLHttpRequest;request.open("GET","./offline.html",!0),request.onload=function(){if(200===request.status){var offlineMessageElement=document.createElement("div");offlineMessageElement.setAttribute("id","offline"),offlineMessageElement.innerHTML=request.responseText,document.getElementById("main").appendChild(offlineMessageElement)}else console.warn("Error retrieving offline.html")},request.onerror=function(){console.error("Connection error")},request.send()}}}(),"serviceWorker"in navigator&&navigator.serviceWorker.register("./sw.js").then(function(reg){console.log("Successfully registered service worker",reg)}).catch(function(err){console.warn("Error whilst registering service worker",err)}),window.addEventListener("online",function(e){console.log("You are online"),Page.hideOfflineWarning(),Arrivals.loadData()},!1),window.addEventListener("offline",function(e){console.log("You are offline"),Page.showOfflineWarning()},!1),navigator.onLine?Arrivals.loadData():Page.showOfflineWarning(),ko.applyBindings(Page.vm);
//# sourceMappingURL=script.min.js.map
